<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.8.6" created="2017-08-03 13:34" -->
<snippets>
  <snippet scope="0">
    <name>Remove Gravatar</name>
    <desc></desc>
    <tags>remove, gravatar, performance, wordpress</tags>
    <code>function bp_remove_gravatar ($image, $params, $item_id, $avatar_dir, $css_id, $html_width, $html_height, $avatar_folder_url, $avatar_folder_dir) {&#13;
 &#13;
	$default = get_stylesheet_directory_uri() .'/images/avatar.jpg';&#13;
 &#13;
	if( $image &amp;&amp; strpos( $image, "gravatar.com" ) ){ &#13;
 &#13;
		return '&lt;img src="' . $default . '" alt="avatar" class="avatar" ' . $html_width . $html_height . ' /&gt;';&#13;
	} else {&#13;
		return $image;&#13;
 &#13;
	}&#13;
 &#13;
}&#13;
add_filter('bp_core_fetch_avatar', 'bp_remove_gravatar', 1, 9 );&#13;
 &#13;
function remove_gravatar ($avatar, $id_or_email, $size, $default, $alt) {&#13;
 &#13;
	$default = get_stylesheet_directory_uri() .'/images/avatar.jpg';&#13;
	return "&lt;img alt='{$alt}' src='{$default}' class='avatar avatar-{$size} photo avatar-default' height='{$size}' width='{$size}' /&gt;";&#13;
}&#13;
 &#13;
add_filter('get_avatar', 'remove_gravatar', 1, 5);&#13;
 &#13;
function bp_remove_signup_gravatar ($image) {&#13;
 &#13;
	$default = get_stylesheet_directory_uri() .'/images/avatar.png';&#13;
 &#13;
	if( $image &amp;&amp; strpos( $image, "gravatar.com" ) ){ &#13;
 &#13;
		return '&lt;img src="' . $default . '" alt="avatar" class="avatar" width="60" height="60" /&gt;';&#13;
	} else {&#13;
		return $image;&#13;
	}&#13;
 &#13;
}&#13;
add_filter('bp_get_signup_avatar', 'bp_remove_signup_gravatar', 1, 1 );</code>
  </snippet>
</snippets>
