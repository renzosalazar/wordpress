{"generator":"Code Snippets v2.13.3","date_created":"2019-09-11 20:13","snippets":[{"name":"Return an error message when a login attempt fails","desc":"https:\/\/gist.github.com\/WPprodigy\/7c4a33849de07b8344ba1768f12d8319","tags":["login","attempt","error","message","failed"],"scope":"front-end","code":"add_filter( 'authenticate', function( $user ) {\n\tif ( is_wp_error( $user ) && 'incorrect_password' === $user->get_error_code() ) {\n\t\t$user = new WP_Error( 'authentication_failed', __( '<strong>ERROR<\/strong>: Invalid username, email address or incorrect password.' ) );\n\t}\n\treturn $user;\n}, 999, 1 );\n\/**\n * Return a more abstract error message for when invalid passwords, usernames, or emails are entered.\n *\n * @param null|WP_User|WP_Error $user WP_User if the user is authenticated, WP_Error or null otherwise.\n *\/\nadd_filter( 'authenticate', function( $user ) {\n\tif ( is_wp_error( $user ) && in_array( $user->get_error_code(), array( 'incorrect_password', 'invalid_email', 'invalid_username' ), true ) ) {\n\t\t$user = new WP_Error( 'authentication_failed', __( '<strong>ERROR<\/strong>: Invalid username, email address or incorrect password.' ) );\n\t}\n\treturn $user;\n}, 999, 1 );","priority":"10"}]}