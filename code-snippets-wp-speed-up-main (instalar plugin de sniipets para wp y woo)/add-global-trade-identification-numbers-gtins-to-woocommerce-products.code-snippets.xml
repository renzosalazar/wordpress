<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.9.4" created="2018-01-05 17:34" -->
<snippets>
  <snippet scope="1">
    <name>Add Global Trade Identification Numbers (GTINs) to WooCommerce products</name>
    <desc></desc>
    <tags>gtin, woocommerce, field, custom, upc, ean, isbn</tags>
    <code>/**&#13;
 * Render the Global Trade Identification Number (GTIN) meta field.&#13;
 */&#13;
function woocommerce_render_gtin_field() {&#13;
   $input   = array(&#13;
      'id'          =&gt; '_gtin',&#13;
      'label'       =&gt; sprintf(&#13;
         '&lt;abbr title="%1$s"&gt;%2$s&lt;/abbr&gt;',&#13;
         _x( 'Global Trade Identification Number', 'field label', 'my-theme' ),&#13;
         _x( 'GTIN', 'abbreviated field label', 'my-theme' )&#13;
      ),&#13;
      'value'       =&gt; get_post_meta( get_the_ID(), '_gtin', true ),&#13;
      'desc_tip'    =&gt; true,&#13;
      'description' =&gt; __( 'Enter the Global Trade Identification Number (UPC, EAN, ISBN, etc.)', 'my-theme' ),&#13;
   );&#13;
?&gt;&#13;
&#13;
   &lt;div id="gtin_attr" class="options_group"&gt;&#13;
      &lt;?php woocommerce_wp_text_input( $input ); ?&gt;&#13;
   &lt;/div&gt;&#13;
&#13;
&lt;?php&#13;
}&#13;
&#13;
add_action( 'woocommerce_product_options_inventory_product_data', 'woocommerce_render_gtin_field' );&#13;
&#13;
/**&#13;
 * Save the product's GTIN number, if provided.&#13;
 *&#13;
 * @param int $product_id The ID of the product being saved.&#13;
 */&#13;
function woocommerce_save_gtin_field( $product_id ) {&#13;
   if (&#13;
      ! isset( $_POST['_gtin'], $_POST['woocommerce_meta_nonce'] )&#13;
      || ( defined( 'DOING_AJAX' ) &amp;&amp; DOING_AJAX )&#13;
      || ! current_user_can( 'edit_products' )&#13;
      || ! wp_verify_nonce( $_POST['woocommerce_meta_nonce'], 'woocommerce_save_data' )&#13;
   ) {&#13;
      return;&#13;
   }&#13;
&#13;
   $gtin = sanitize_text_field( $_POST['_gtin'] );&#13;
&#13;
   update_post_meta( $product_id, '_gtin', $gtin );&#13;
}&#13;
&#13;
add_action( 'woocommerce_process_product_meta','woocommerce_save_gtin_field' );</code>
  </snippet>
</snippets>
