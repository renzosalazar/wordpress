{"generator":"Code Snippets v2.10.2","date_created":"2018-07-30 17:47","snippets":[{"name":"User Switching to a WooCommerce Order","tags":["order","woocommerce","user","switch"],"scope":"admin","code":"add_action( 'woocommerce_admin_order_data_after_order_details', 'wc_order_switch_to', 99 );\r\n\/**\r\n * Add a switch to user link on the order details.\r\n *\r\n * @param object $order The WC Order that we're working with.\r\n *\/\r\nfunction ccef_order_switch_to( $order ) {\r\n    $current_user = wp_get_current_user();\r\n    $user_switching = $GLOBALS['user_switching'];\r\n\r\n    if ( $user_switching && $current_user ) {\r\n        $user        = get_user_by( 'id', $order->get_user_id() );\r\n        $switch_link = ''; \r\n\r\n        \/\/ Only try to switch if a $user was set. \r\n        if( $user ) {\r\n          $switch_link = $user_switching::maybe_switch_url( $user );\r\n        } \r\n\r\n        if ( $switch_link ) {\r\n            echo '<a href=\"' . esc_url( $switch_link ) . '\">Switch To<\/a>';\r\n        }\r\n    }\r\n}"}]}