<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.9.0" created="2017-09-07 13:48" -->
<snippets>
  <snippet scope="0">
    <name>Remove Yoast SEO canonical URL for Facebook</name>
    <desc></desc>
    <tags>yoast, seo, remove, canonical, facebook</tags>
    <code>add_filter('wpseo_canonical', 'remove_canonical_facebook_crawler', 10, 3);&#13;
&#13;
function remove_canonical_facebook_crawler($canonical) {&#13;
    // Don't send a custom Canonical URL to the Facebook crawler&#13;
&#13;
    if((strpos($_SERVER["HTTP_USER_AGENT"], "facebookexternalhit/") !== false || strpos($_SERVER["HTTP_USER_AGENT"], "Facebot") !== false) &amp;&amp; is_singular()) {&#13;
        // Find and return the original permalink canonical URL&#13;
        $obj       = get_queried_object();&#13;
        $canonical = get_permalink( $obj-&gt;ID );&#13;
        return $canonical;&#13;
    }&#13;
&#13;
    return $canonical;&#13;
}</code>
  </snippet>
</snippets>
