<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.9.4" created="2017-09-28 19:20" -->
<snippets>
  <snippet scope="1">
    <name>Filter by featured products in wp-admin when using WooCommerce</name>
    <desc></desc>
    <tags>featured, products, filter, admin, wordpress, woocommerce</tags>
    <code>add_action('restrict_manage_posts', 'featured_products_sorting');&#13;
function featured_products_sorting() {&#13;
    global $typenow;&#13;
    $post_type = 'product'; // change to your post type&#13;
    $taxonomy  = 'product_visibility'; // change to your taxonomy&#13;
    if ($typenow == $post_type) {&#13;
        $selected      = isset($_GET[$taxonomy]) ? $_GET[$taxonomy] : '';&#13;
        $info_taxonomy = get_taxonomy($taxonomy);&#13;
        wp_dropdown_categories(array(&#13;
            'show_option_all' =&gt; __("Show all {$info_taxonomy-&gt;label}"),&#13;
            'taxonomy'        =&gt; $taxonomy,&#13;
            'name'            =&gt; $taxonomy,&#13;
            'orderby'         =&gt; 'name',&#13;
            'selected'        =&gt; $selected,&#13;
            'show_count'      =&gt; true,&#13;
            'hide_empty'      =&gt; true,&#13;
        ));&#13;
    };&#13;
}&#13;
add_filter('parse_query', 'featured_products_sorting_query');&#13;
function featured_products_sorting_query($query) {&#13;
    global $pagenow;&#13;
    $post_type = 'product'; // change to your post type&#13;
    $taxonomy  = 'product_visibility'; // change to your taxonomy&#13;
    $q_vars    = &amp;$query-&gt;query_vars;&#13;
    if ( $pagenow == 'edit.php' &amp;&amp; isset($q_vars['post_type']) &amp;&amp; $q_vars['post_type'] == $post_type &amp;&amp; isset($q_vars[$taxonomy]) &amp;&amp; is_numeric($q_vars[$taxonomy]) &amp;&amp; $q_vars[$taxonomy] != 0 ) {&#13;
        $term = get_term_by('id', $q_vars[$taxonomy], $taxonomy);&#13;
        $q_vars[$taxonomy] = $term-&gt;slug;&#13;
    }&#13;
}</code>
  </snippet>
</snippets>
