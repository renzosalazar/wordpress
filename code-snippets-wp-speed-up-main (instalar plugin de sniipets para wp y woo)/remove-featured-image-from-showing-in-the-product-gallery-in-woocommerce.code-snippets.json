{"generator":"Code Snippets v2.13.3","date_created":"2019-06-18 20:11","snippets":[{"name":"Remove featured image from showing in the product gallery in WooCommerce","desc":"<a href=\"https:\/\/gist.github.com\/richtabor\/27f47a92617ffb53e288f8aee47213c1\">https:\/\/gist.github.com\/richtabor\/27f47a92617ffb53e288f8aee47213c1<\/a>","tags":["remove","featured","image","product","gallery","woocommerce"],"scope":"global","code":"function wc_remove_featured_image( $html, $attachment_id ) {\n\n\tglobal $post, $product;\n\n\t\/\/ Get the IDs.\n\t$attachment_ids = $product->get_gallery_image_ids();\n\n\t\/\/ If there are none, go ahead and return early - with the featured image included in the gallery.\n\tif ( ! $attachment_ids ) {\n\t\treturn $html;\n\t}\n\n\t\/\/ Look for the featured image.\n\t$featured_image = get_post_thumbnail_id( $post->ID );\n\n\t\/\/ If there is one, exclude it from the gallery.\n\tif ( $attachment_id == $featured_image ) {\n\t\t$html = '';\n\t}\n\n\treturn $html;\n}\nadd_filter( 'woocommerce_single_product_image_thumbnail_html', 'wc_remove_featured_image', 10, 2 );","priority":"10"}]}