<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.8.6" created="2017-07-10 16:04" -->
<snippets>
  <snippet scope="2">
    <name>Disable embeds</name>
    <desc></desc>
    <tags>wordpress, embeds, disable</tags>
    <code>function disable_embeds_code_init() {&#13;
&#13;
// Remove the REST API endpoint.&#13;
remove_action( 'rest_api_init', 'wp_oembed_register_route' );&#13;
&#13;
// Turn off oEmbed auto discovery.&#13;
add_filter( 'embed_oembed_discover', '__return_false' );&#13;
&#13;
// Don't filter oEmbed results.&#13;
remove_filter( 'oembed_dataparse', 'wp_filter_oembed_result', 10 );&#13;
&#13;
// Remove oEmbed discovery links.&#13;
remove_action( 'wp_head', 'wp_oembed_add_discovery_links' );&#13;
&#13;
// Remove oEmbed-specific JavaScript from the front-end and back-end.&#13;
remove_action( 'wp_head', 'wp_oembed_add_host_js' );&#13;
add_filter( 'tiny_mce_plugins', 'disable_embeds_tiny_mce_plugin' );&#13;
&#13;
// Remove all embeds rewrite rules.&#13;
add_filter( 'rewrite_rules_array', 'disable_embeds_rewrites' );&#13;
&#13;
// Remove filter of the oEmbed result before any HTTP requests are made.&#13;
remove_filter( 'pre_oembed_result', 'wp_filter_pre_oembed_result', 10 );&#13;
}&#13;
&#13;
add_action( 'init', 'disable_embeds_code_init', 9999 );</code>
  </snippet>
</snippets>
