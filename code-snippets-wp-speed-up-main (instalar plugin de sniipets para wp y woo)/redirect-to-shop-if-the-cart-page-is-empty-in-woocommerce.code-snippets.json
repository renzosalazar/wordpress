{"generator":"Code Snippets v2.14.0","date_created":"2021-01-25 01:53","snippets":[{"name":"Redirect to shop if the cart page is empty in WooCommerce","desc":"https:\/\/stackoverflow.com\/questions\/65853947\/redirect-to-shop-if-cart-is-emptied-on-cart-page-in-woocommerce-3","tags":["cart","page","empty","emptied","redirect","shop","woocommerce"],"scope":"front-end","code":"add_action( 'template_redirect', 'empty_cart_redirection' );\nfunction empty_cart_redirection(){\n    if( is_cart() ) :\n    \n    \/\/ Here set the Url redirection\n    $url_redirection = get_permalink( wc_get_page_id( 'shop' ) );\n    \n    \/\/ When trying to access cart page if cart is already empty  \n    if( WC()->cart->is_empty() ){\n        wp_safe_redirect( $url_redirection );\n        exit();\n    }\n    \n    \/\/ When emptying cart on cart page\n    wc_enqueue_js( \"jQuery(function($){\n        $(document.body).on( 'wc_cart_emptied', function(){\n            if ( $( '.woocommerce-cart-form' ).length === 0 ) {\n                $(window.location).attr('href', '\" . $url_redirection . \"');\n                return;\n            }\n        });\n    });\" );\n    endif;\n}","priority":"10"}]}