<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a code snippets export file generated by the Code Snippets WordPress plugin. -->
<!-- https://wordpress.org/plugins/code-snippets -->
<!-- To import these snippets a WordPress site follow these steps: -->
<!-- 1. Log in to that site as an administrator. -->
<!-- 2. Install the Code Snippets plugin using the directions provided at the above link. -->
<!-- 3. Go to 'Tools: Import' in the WordPress admin panel. -->
<!-- 4. Click on the "Code Snippets" importer in the list -->
<!-- 5. Upload this file using the form provided on that page. -->
<!-- 6. Code Snippets will then import all of the snippets and associated information contained in this file into your site. -->
<!-- 7. You will then have to visit the 'Snippets: All Snippets' admin menu and activate desired snippets. -->
<!-- generator="Code Snippets/2.9.4" created="2017-10-11 19:30" -->
<snippets>
  <snippet scope="0">
    <name>Adds stock status to the dropdown on product pages in WooCommerce</name>
    <desc></desc>
    <tags>stock, status, dropdown, woocommerce</tags>
    <code>add_action( 'woocommerce_after_add_to_cart_form', 'dropdown_waitlist_label' );&#13;
function dropdown_waitlist_label() {&#13;
	echo "&#13;
		&lt;script&gt;&#13;
		jQuery(document).ready(function($) {&#13;
			var variation_data = $('form.variations_form').attr('data-product_variations');&#13;
			var variation_data = JSON.parse(variation_data);&#13;
			$('#pa_size &gt; option').each(function() {&#13;
				for (var i = 0; i &lt; variation_data.length; i++) {&#13;
					var variation = variation_data[i];&#13;
					if ($(this).val() == variation.attributes.attribute_pa_size) {&#13;
						if ( false == variation.is_in_stock ) {&#13;
							$(this).text( variation.attributes.attribute_pa_size + '\u00A0\u00A0\u00A0–\u00A0\u00A0\u00A0\u00A0Out of Stock');&#13;
						}&#13;
						if ( variation.min_qty == 1 &amp;&amp; variation.max_qty == 1 ) {&#13;
							$(this).text( variation.attributes.attribute_pa_size + '\u00A0\u00A0\u00A0–\u00A0\u00A0\u00A0\u00A01 left in stock' );&#13;
						}&#13;
					}&#13;
				}&#13;
			});&#13;
		});&#13;
	&lt;/script&gt;";&#13;
}</code>
  </snippet>
</snippets>
